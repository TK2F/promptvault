@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

:root {
  --font-size-small: 13px;
  --font-size-medium: 14px;
  --font-size-large: 16px;

  /* Light theme - Glassmorphism */
  --background: oklch(0.98 0.01 260);
  --foreground: oklch(0.12 0 0);
  --card: oklch(1 0 0 / 0.7);
  --card-foreground: oklch(0.12 0 0);
  --popover: oklch(1 0 0 / 0.85);
  --popover-foreground: oklch(0.12 0 0);
  --primary: oklch(0.55 0.2 270);
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.96 0.02 270 / 0.8);
  --secondary-foreground: oklch(0.18 0 0);
  --muted: oklch(0.96 0.01 270 / 0.6);
  --muted-foreground: oklch(0.45 0 0);
  --accent: oklch(0.92 0.04 270 / 0.8);
  --accent-foreground: oklch(0.18 0 0);
  --destructive: oklch(0.55 0.22 25);
  --destructive-foreground: oklch(1 0 0);
  --border: oklch(0.85 0.02 270 / 0.5);
  --input: oklch(0.95 0.01 270 / 0.8);
  --ring: oklch(0.55 0.2 270);
  --shadow: oklch(0.5 0.1 270 / 0.15);

  /* Glass effect variables */
  --glass-bg: oklch(1 0 0 / 0.6);
  --glass-border: oklch(1 0 0 / 0.3);
  --glass-shadow: 0 8px 32px oklch(0.3 0.1 270 / 0.15);
  --glass-blur: blur(16px);

  --radius: 0.75rem;
}

.dark {
  --background: oklch(0.1 0.02 270);
  --foreground: oklch(0.95 0 0);
  --card: oklch(0.18 0.02 270 / 0.6);
  --card-foreground: oklch(0.95 0 0);
  --popover: oklch(0.15 0.02 270 / 0.85);
  --popover-foreground: oklch(0.95 0 0);
  --primary: oklch(0.7 0.2 270);
  --primary-foreground: oklch(0.1 0 0);
  --secondary: oklch(0.25 0.03 270 / 0.7);
  --secondary-foreground: oklch(0.95 0 0);
  --muted: oklch(0.25 0.02 270 / 0.5);
  --muted-foreground: oklch(0.65 0 0);
  --accent: oklch(0.3 0.05 270 / 0.7);
  --accent-foreground: oklch(0.95 0 0);
  --destructive: oklch(0.5 0.2 25);
  --destructive-foreground: oklch(1 0 0);
  --border: oklch(0.35 0.03 270 / 0.5);
  --input: oklch(0.2 0.02 270 / 0.8);
  --ring: oklch(0.7 0.2 270);
  --shadow: oklch(0 0 0 / 0.4);

  /* Glass effect variables - dark */
  --glass-bg: oklch(0.15 0.02 270 / 0.5);
  --glass-border: oklch(0.4 0.05 270 / 0.3);
  --glass-shadow: 0 8px 32px oklch(0 0 0 / 0.3);
  --glass-blur: blur(20px);
}

* {
  border-color: var(--border);
}

body {
  background: linear-gradient(135deg,
      oklch(0.95 0.03 270) 0%,
      oklch(0.98 0.01 300) 50%,
      oklch(0.95 0.02 240) 100%);
  color: var(--foreground);
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  margin: 0;
  padding: 0;
  min-height: 100vh;
}

.dark body,
body.dark {
  background: linear-gradient(135deg,
      oklch(0.12 0.03 270) 0%,
      oklch(0.1 0.02 300) 50%,
      oklch(0.12 0.02 240) 100%);
}

/* Side Panel specific styles */
#root {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background: inherit;
}

/* Font size variants */
.font-small {
  font-size: var(--font-size-small);
}

.font-medium {
  font-size: var(--font-size-medium);
}

.font-large {
  font-size: var(--font-size-large);
}

/* Glassmorphism base class */
.glass {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb {
  background: var(--muted-foreground);
  border-radius: 3px;
  opacity: 0.5;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--foreground);
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes shimmer {
  0% {
    background-position: -100% 0;
  }

  100% {
    background-position: 100% 0;
  }
}

@keyframes float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-4px);
  }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-slide-in {
  animation: slideIn 0.3s ease-out;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* Header - Glassmorphism */
.header-glass {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border-bottom: 1px solid var(--glass-border);
  box-shadow: 0 4px 16px var(--shadow);
}

/* Dialog overlay - Glassmorphism */
[data-slot="dialog-overlay"] {
  background: oklch(0.1 0.02 270 / 0.6) !important;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* Dialog content - Glassmorphism */
[data-slot="dialog-content"] {
  background: var(--glass-bg) !important;
  backdrop-filter: var(--glass-blur) !important;
  -webkit-backdrop-filter: var(--glass-blur) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: var(--glass-shadow), 0 0 60px oklch(0.6 0.2 270 / 0.1) !important;
  border-radius: 1rem !important;
}

/* Card - Glassmorphism */
[data-slot="card"] {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 0.75rem;
}

[data-slot="card"]:hover {
  box-shadow: var(--glass-shadow), 0 0 20px oklch(0.6 0.2 270 / 0.15);
  transform: translateY(-2px);
  border-color: oklch(0.6 0.15 270 / 0.5);
}

/* Input - Glassmorphism */
input,
textarea {
  background: var(--input) !important;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid var(--glass-border);
  transition: all 0.2s ease;
}

input:focus,
textarea:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--ring), 0 0 20px oklch(0.6 0.2 270 / 0.2);
  border-color: var(--ring);
}

/* Button - Glassmorphism */
[data-slot="button"] {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

[data-slot="button"]:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px var(--shadow);
}

[data-slot="button"]:active {
  transform: translateY(0);
}

/* Primary button glow */
[data-slot="button"][data-variant="default"] {
  box-shadow: 0 4px 14px oklch(0.55 0.2 270 / 0.4);
}

[data-slot="button"][data-variant="default"]:hover {
  box-shadow: 0 6px 20px oklch(0.55 0.2 270 / 0.5);
}

/* Toast styles */
.toast-success {
  background: oklch(0.55 0.18 145 / 0.9) !important;
  backdrop-filter: blur(12px);
  color: white !important;
  border: 1px solid oklch(0.6 0.2 145 / 0.3);
  box-shadow: 0 8px 24px oklch(0.4 0.18 145 / 0.3);
}

.toast-error {
  background: oklch(0.55 0.2 25 / 0.9) !important;
  backdrop-filter: blur(12px);
  color: white !important;
  border: 1px solid oklch(0.6 0.2 25 / 0.3);
  box-shadow: 0 8px 24px oklch(0.4 0.2 25 / 0.3);
}

/* Pin indicator - glow effect */
.pin-indicator {
  color: oklch(0.7 0.2 45);
  text-shadow: 0 0 8px oklch(0.7 0.2 45 / 0.5);
}

/* Tag styles - Glassmorphism */
.tag {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.2rem 0.6rem;
  font-size: 0.7rem;
  font-weight: 500;
  border-radius: 9999px;
  background: oklch(0.6 0.15 270 / 0.15);
  backdrop-filter: blur(8px);
  color: var(--foreground);
  border: 1px solid oklch(0.6 0.15 270 / 0.25);
  transition: all 0.2s ease;
}

.tag:hover {
  background: oklch(0.6 0.15 270 / 0.25);
  transform: scale(1.05);
  box-shadow: 0 2px 8px oklch(0.6 0.15 270 / 0.2);
}

.tag-remove {
  cursor: pointer;
  opacity: 0.6;
  transition: opacity 0.15s;
}

.tag-remove:hover {
  opacity: 1;
}

/* Search bar glass effect */
.search-glass {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border-bottom: 1px solid var(--glass-border);
}

/* Floating action button - glow */
.fab-glow {
  box-shadow: 0 4px 20px oklch(0.55 0.2 270 / 0.5), 0 0 40px oklch(0.55 0.2 270 / 0.2);
  transition: all 0.3s ease;
}

.fab-glow:hover {
  box-shadow: 0 6px 28px oklch(0.55 0.2 270 / 0.6), 0 0 60px oklch(0.55 0.2 270 / 0.3);
  transform: translateY(-2px) scale(1.05);
}

/* Prose improvements for Markdown */
.prose {
  line-height: 1.8;
}

.prose h1,
.prose h2,
.prose h3 {
  color: var(--foreground);
  font-weight: 600;
  background: linear-gradient(135deg, var(--foreground), oklch(0.5 0.15 270));
  -webkit-background-clip: text;
  background-clip: text;
}

.prose code {
  background: var(--muted);
  padding: 0.15rem 0.4rem;
  border-radius: 0.375rem;
  font-size: 0.875em;
  border: 1px solid var(--border);
}

.prose pre {
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  padding: 1rem;
  border-radius: 0.75rem;
  overflow-x: auto;
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

.prose a {
  color: var(--primary);
  text-decoration: none;
  border-bottom: 1px solid oklch(0.55 0.2 270 / 0.3);
  transition: all 0.2s;
}

.prose a:hover {
  border-bottom-color: var(--primary);
  text-shadow: 0 0 8px oklch(0.55 0.2 270 / 0.3);
}

/* Tabs - Glassmorphism */
[data-slot="tabs-list"] {
  background: var(--glass-bg) !important;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid var(--glass-border);
  border-radius: 0.5rem;
}

[data-slot="tabs-trigger"][data-state="active"] {
  background: oklch(0.55 0.2 270 / 0.2) !important;
  box-shadow: 0 2px 8px oklch(0.55 0.2 270 / 0.2);
}