# PromptVault 将来機能案・改善提案

このドキュメントは、将来的に実装を検討する機能案と改善提案を記録しています。

---

## 🚀 優先度：高

### 1. プロンプト挿入機能

**概要**: 登録したプロンプトを、現在表示しているWebページの入力欄に直接挿入する機能。

**現状**: コピー機能のみ（ユーザーが手動で貼り付け）

**提案案**:

| 案 | 内容 | メリット |
|------|------|----------|
| **A: スマートアクション** | クリック=メインアクション（コピー/挿入を設定で選択）、「⋯」メニューで編集・削除 | シンプル、ワンクリック |
| **B: プライマリ/セカンダリ分離** | コピー・挿入を常時表示、その他は「⋯」メニュー | 明確な操作 |
| **C: コンテキストメニュー活用** | ホバー=コピー・挿入、右クリック=その他 | クリーン |

**技術的課題**:
- フォーカス喪失: サイドパネル操作時にメインページのフォーカスが外れる
- CSPセキュリティ: 一部サイトでDOM操作がブロックされる
- 入力先の多様性: `<textarea>`, `<input>`, `contentEditable`それぞれ対応が必要
- Claude/ChatGPT/Gemini互換性: 各サービスのDOM構造調査と対応

**対策案**:
- `chrome.scripting.executeScript`で最後のアクティブ要素を記憶
- 挿入失敗時はクリップボードコピーにフォールバック
- 主要AIサービス（Claude, ChatGPT, Gemini）への専用最適化

---

## 📋 優先度：中

### 2. キーボードショートカット

**概要**: マウス操作なしでプロンプトを操作

**提案**:
- `Enter` = 選択中のプロンプトを挿入/コピー
- `Ctrl+C` = コピー
- `↑/↓` = プロンプト選択移動
- `/` = 検索フォーカス

---

### 3. ドラッグ&ドロップ挿入

**概要**: プロンプトをドラッグして入力欄にドロップで挿入

**技術要件**: HTML5 Drag and Drop API、クロスウィンドウ対応

---

### 4. 使用統計・履歴

**概要**: プロンプトの使用回数、最終使用日時を記録

**UI案**: 
- 「よく使う」セクション追加
- 使用回数バッジ表示

---

## 🔮 優先度：低

### 5. お気に入りサービス連携

**概要**: Claude/ChatGPT/Geminiへのクイックアクセスボタン

---

### 6. プレビュー機能

**概要**: ホバー時にプロンプト内容のプレビューをツールチップ表示

---

### 7. テンプレート変数

**概要**: `{{変数名}}`でプロンプト内に変数を定義、挿入時に値を入力

---

## 📅 ロードマップ

| バージョン | 予定機能 |
|------------|----------|
| v1.7 | 挿入機能（基本実装） |
| v1.8 | キーボードショートカット |
| v2.0 | AIサービス専用最適化 |

---

*最終更新: 2026-02-07*
